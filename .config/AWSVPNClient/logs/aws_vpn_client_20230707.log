Platform: MacOS
App version: 3.3.0
OS version: Unix 22.5.0.0
OS description: Unix 22.5.0.0
2023-07-07 17:01:14.135 +07:00 [INF] Logger initialized
2023-07-07 17:01:14.943 +07:00 [INF] No local attributes file found. Creating a new attributes store
2023-07-07 17:01:15.093 +07:00 [DBG] Metrics attributes saved to file: /Users/hoan.lac/.config/AWSVPNClient/MetricsAttributes
2023-07-07 17:01:15.094 +07:00 [DBG] Database path: /Users/hoan.lac/.config/AWSVPNClient/awsvpnclientmetrics.db
2023-07-07 17:01:15.095 +07:00 [INF] No existing profile store. Create an empty one in /Users/hoan.lac/.config/AWSVPNClient/ConnectionProfiles
2023-07-07 17:01:15.097 +07:00 [INF] Saving profile store to /Users/hoan.lac/.config/AWSVPNClient/ConnectionProfiles
2023-07-07 17:01:15.140 +07:00 [DBG] Auto culture: en-US Auto UI culture: en-US
2023-07-07 17:01:15.148 +07:00 [DBG] Can successfully read and write app data folder.
2023-07-07 17:01:15.153 +07:00 [DBG] helperToolExePath: /Applications/AWS VPN Client/AWS VPN Client.app/Contents/Resources/AWS VPN Client/Contents/MacOS/ACVCHelperTool
2023-07-07 17:01:15.598 +07:00 [DBG] macOS viewDidLoad
2023-07-07 17:01:15.612 +07:00 [INF] No local preferences file found. Creating a new preferences store
2023-07-07 17:01:15.615 +07:00 [DBG] Preferences saved to file: /Users/hoan.lac/.config/AWSVPNClient/Preferences
2023-07-07 17:01:15.792 +07:00 [ERR] Exception occurred while recording metric UI_APP_VPN_CONNECT_GENERAL_ERROR
2023-07-07 17:01:15.974 +07:00 [ERR] Exception occurred while recording metric APPLICATION_CRASH_DETECTED
2023-07-07 17:01:15.980 +07:00 [DBG] Current preferences schema version is 1, which is less or equal to current supported version: 1. 
2023-07-07 17:01:15.989 +07:00 [DBG] Creating table MetricsTable
2023-07-07 17:01:15.991 +07:00 [DBG] Created table MetricsTable in sqlite database
2023-07-07 17:01:15.996 +07:00 [DBG] Creating table AnalyticsTable
2023-07-07 17:01:15.999 +07:00 [DBG] Created table AnalyticsTable in sqlite database
2023-07-07 17:01:16.005 +07:00 [DBG] Metric agent started
2023-07-07 17:01:16.010 +07:00 [DBG] Sending Metrics batches
2023-07-07 17:01:16.023 +07:00 [DBG] Checking if table MetricsTable is empty
2023-07-07 17:01:16.032 +07:00 [DBG] is empty: True
2023-07-07 17:01:16.032 +07:00 [DBG] Finished sending batches of metrics to cloudwatch.
2023-07-07 17:01:16.034 +07:00 [DBG] Sending Analytics Batches
2023-07-07 17:01:16.037 +07:00 [DBG] Checking if table AnalyticsTable is empty
2023-07-07 17:01:16.038 +07:00 [DBG] is empty: True
2023-07-07 17:01:16.038 +07:00 [DBG] Finished sending batches of analytics to pinpoint.
2023-07-07 17:01:16.084 +07:00 [DBG] Inserted event PROFILE_CONFIGURATION_VERSION 1 to AnalyticsTable
2023-07-07 17:01:16.084 +07:00 [DBG] Current metadata schema version is 1, which is less or equal to current supported version: 1. 
2023-07-07 17:01:16.085 +07:00 [DBG] Inserted event CLICK_LAUNCH_DESKTOP_APP 1 to AnalyticsTable
2023-07-07 17:01:16.092 +07:00 [DBG] Updater checks started
2023-07-07 17:01:16.110 +07:00 [DBG] Directory of up and down scripts /Library/Application Support/AWSVPNClient doesn't exist. Skipping
2023-07-07 17:01:16.110 +07:00 [DBG] AcvcHelperOutLog doesn't exist. Skipping
2023-07-07 17:01:16.110 +07:00 [DBG] AcvcHelperErrLog doesn't exist. Skipping
2023-07-07 17:01:16.114 +07:00 [DBG] Total logs size (MB): {0}0
2023-07-07 17:01:16.117 +07:00 [DBG] Inserted event LOG_DISK_USAGE 0 to MetricsTable
2023-07-07 17:01:16.118 +07:00 [DBG] Inserted event LOG_DISK_USAGE_INFO 0 to AnalyticsTable
2023-07-07 17:01:53.481 +07:00 [DBG] Inserted event CLICK_PREFERENCES 1 to AnalyticsTable
2023-07-07 17:01:58.912 +07:00 [DBG] Inserted event CLICK_TRAY_ICON 1 to AnalyticsTable
2023-07-07 17:02:12.898 +07:00 [INF] Adding profile with name: AWS, OpenVPN config file: /Users/hoan.lac/Downloads/cvpn-endpoint-00c5122a6172bd38a.ovpn
2023-07-07 17:02:12.919 +07:00 [INF] Validating OpenVPN config /Users/hoan.lac/Downloads/cvpn-endpoint-00c5122a6172bd38a.ovpn
2023-07-07 17:02:12.922 +07:00 [INF] File size of /Users/hoan.lac/Downloads/cvpn-endpoint-00c5122a6172bd38a.ovpn: 1797 bytes
2023-07-07 17:02:12.923 +07:00 [INF] Validating schema for OpenVPN config: /Users/hoan.lac/Downloads/cvpn-endpoint-00c5122a6172bd38a.ovpn
2023-07-07 17:02:12.966 +07:00 [INF] Copying OpenVPN config to application local with name: AWS, from source: /Users/hoan.lac/.config/AWSVPNClient/OpenVpnConfigs/OvpnTempConfig
2023-07-07 17:02:12.972 +07:00 [INF] For OpenVPN config: /Users/hoan.lac/Downloads/cvpn-endpoint-00c5122a6172bd38a.ovpn, CvpnEndpointId: cvpn-endpoint-00c5122a6172bd38a, CvpnEndpointRegion: eu-north-1
2023-07-07 17:02:12.976 +07:00 [INF] Saving profile store to /Users/hoan.lac/.config/AWSVPNClient/ConnectionProfiles
2023-07-07 17:02:12.987 +07:00 [DBG] Inserted event PROFILE_ADDED 1 to AnalyticsTable
2023-07-07 17:02:12.988 +07:00 [DBG] Inserted event PROFILE_CREATE_ERROR 0 to MetricsTable
2023-07-07 17:02:15.154 +07:00 [INF] Saving profile store to /Users/hoan.lac/.config/AWSVPNClient/ConnectionProfiles
2023-07-07 17:02:15.156 +07:00 [DBG] Inserted event CLICK_APP_CONNECT 1 to AnalyticsTable
2023-07-07 17:02:15.162 +07:00 [INF] Connecting /Users/hoan.lac/.config/AWSVPNClient/OpenVpnConfigs/AWS 
2023-07-07 17:02:15.168 +07:00 [DBG] validationString: /Users/hoan.lac/.config/AWSVPNClient/OpenVpnConfigs/AWS
1688724145
2023-07-07 17:02:15.170 +07:00 [DBG] Inserted event UI_APP_VPN_CONNECT_ATTEMPT 1 to AnalyticsTable
2023-07-07 17:02:15.171 +07:00 [DBG] Shutting down metrics agent
2023-07-07 17:02:15.177 +07:00 [DBG] Metrics agent shut down
2023-07-07 17:02:15.178 +07:00 [DBG] Inserted event UI_APP_VPN_CONNECT_GENERAL_ERROR 0 to MetricsTable
2023-07-07 17:02:15.350 +07:00 [INF] Starting OpenVpn process
2023-07-07 17:02:15.356 +07:00 [DBG] Starting process
2023-07-07 17:02:15.433 +07:00 [DBG] Start to read process output
2023-07-07 17:02:16.807 +07:00 [DBG] End reading process output
2023-07-07 17:02:16.866 +07:00 [DBG] Helper app --init output: Kill success.
2023-07-07 17:02:16.868 +07:00 [DBG] Connecting using command /Applications/AWS VPN Client/AWS VPN Client.app/Contents/Resources/AWS VPN Client/Contents/MacOS/ACVCHelperTool --start
2023-07-07 17:02:16.869 +07:00 [DBG] Starting process
2023-07-07 17:02:16.924 +07:00 [DBG] Start to read process output
2023-07-07 17:02:23.128 +07:00 [DBG] End reading process output
2023-07-07 17:02:23.221 +07:00 [DBG] Helper app --start output: port in use
2023-07-07 17:02:23.238 +07:00 [DBG] DeDupeProcessDiedSignals: The VPN process failed to start. The port is already in use by another process.
2023-07-07 17:02:23.240 +07:00 [WRN] Acs did not stop correctly!
2023-07-07 17:02:23.241 +07:00 [ERR] Process died signal sent
ACVC.Core.OpenVpn.OvpnPortTakenException: The VPN process failed to start. The port is already in use by another process.
  at ACVC.Core.OpenVpn.OvpnOsxProcessManager.Start (System.String openVpnConfigPath, System.String managementPortPasswordFile, System.Int32 timeoutMilliseconds) [0x002fb] in <839fd5ab8f4b4389aa33b3f9b2f7dcd1>:0 
  at ACVC.Core.OpenVpn.OvpnConnectionManager.Connect (ACVC.Core.Metadata.OvpnConnectionProfile configProfile, ACVC.Core.GetCredentialsCallback getCredentialsCallback, System.Int32 timeout) [0x0020f] in <839fd5ab8f4b4389aa33b3f9b2f7dcd1>:0 
2023-07-07 17:02:23.256 +07:00 [DBG] Stopping DNS monitoring thread
2023-07-07 17:02:23.257 +07:00 [DBG] Releasing DNS monitoring lock
2023-07-07 17:02:23.257 +07:00 [DBG] Metric agent started
2023-07-07 17:02:23.257 +07:00 [DBG] Sending Metrics batches
2023-07-07 17:02:23.259 +07:00 [DBG] Received exception for connection state Disconnected. Show error message to user
2023-07-07 17:02:23.260 +07:00 [ERR] Exception recieved by connection view controller
ACVC.Core.OpenVpn.OvpnPortTakenException: The VPN process failed to start. The port is already in use by another process.
  at ACVC.Core.OpenVpn.OvpnOsxProcessManager.Start (System.String openVpnConfigPath, System.String managementPortPasswordFile, System.Int32 timeoutMilliseconds) [0x002fb] in <839fd5ab8f4b4389aa33b3f9b2f7dcd1>:0 
  at ACVC.Core.OpenVpn.OvpnConnectionManager.Connect (ACVC.Core.Metadata.OvpnConnectionProfile configProfile, ACVC.Core.GetCredentialsCallback getCredentialsCallback, System.Int32 timeout) [0x0020f] in <839fd5ab8f4b4389aa33b3f9b2f7dcd1>:0 
2023-07-07 17:02:23.261 +07:00 [DBG] Checking if table MetricsTable is empty
2023-07-07 17:02:23.262 +07:00 [DBG] is empty: False
2023-07-07 17:02:23.263 +07:00 [DBG] Inserted event UI_APP_VPN_CONNECT_GENERAL_ERROR 1 to MetricsTable
2023-07-07 17:02:23.265 +07:00 [DBG] Inserted event UI_APP_VPN_CONNECT_GENERAL_ERROR 1 to AnalyticsTable
2023-07-07 17:02:23.329 +07:00 [DBG] Metrics event batch successfully created, sending metrics
2023-07-07 17:02:23.702 +07:00 [DBG] /usr/bin/dig stdout: ; <<>> DiG 9.10.6 <<>> pinpoint.metrics-awsvpnclient.us-east-1.amazonaws.com
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 42837
;; flags: qr rd ra; QUERY: 1, ANSWER: 5, AUTHORITY: 0, ADDITIONAL: 1
;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 1232
;; QUESTION SECTION:
;pinpoint.metrics-awsvpnclient.us-east-1.amazonaws.com. IN A
;; ANSWER SECTION:
pinpoint.metrics-awsvpnclient.us-east-1.amazonaws.com. 900 IN CNAME pinpoint.ap-northeast-2.amazonaws.com.
pinpoint.ap-northeast-2.amazonaws.com. 60 IN A	13.226.120.18
pinpoint.ap-northeast-2.amazonaws.com. 60 IN A	13.226.120.112
pinpoint.ap-northeast-2.amazonaws.com. 60 IN A	13.226.120.2
pinpoint.ap-northeast-2.amazonaws.com. 60 IN A	13.226.120.15
;; Query time: 107 msec
;; SERVER: 1.1.1.1#53(1.1.1.1)
;; WHEN: Fri Jul 07 17:02:23 +07 2023
;; MSG SIZE  rcvd: 184

2023-07-07 17:02:23.704 +07:00 [DBG] /usr/bin/dig stderr: 
2023-07-07 17:02:23.707 +07:00 [DBG] /usr/bin/dig exit code: 0
2023-07-07 17:02:23.708 +07:00 [DBG] Error: 
2023-07-07 17:02:23.709 +07:00 [DBG] dig command result: pinpoint.ap-northeast-2.amazonaws.com.
2023-07-07 17:02:23.722 +07:00 [DBG] Storing metrics region ap-northeast-2 in app
2023-07-07 17:02:23.724 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 17:02:23.724 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 17:02:23.724 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 17:02:23.724 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 17:02:23.964 +07:00 [DBG] Fetching cached identity id.
2023-07-07 17:02:23.965 +07:00 [DBG] Looking up current region
2023-07-07 17:02:23.966 +07:00 [DBG] Current region is: ap-northeast-2
2023-07-07 17:02:23.966 +07:00 [DBG] Setting identityId and temporaryCredentials file paths.
2023-07-07 17:02:23.966 +07:00 [DBG] Creating credentials storage folder.
2023-07-07 17:02:23.966 +07:00 [DBG] Initializing credentials provider.
2023-07-07 17:02:23.968 +07:00 [DBG] Sending metrics batch async
2023-07-07 17:02:23.970 +07:00 [DBG] OS: MacOS
2023-07-07 17:02:23.971 +07:00 [DBG] OS: MacOS
2023-07-07 17:02:23.971 +07:00 [DBG] OS: MacOS
2023-07-07 17:02:23.971 +07:00 [DBG] OS: MacOS
2023-07-07 17:02:23.971 +07:00 [DBG] Metrics data request created
2023-07-07 17:02:24.017 +07:00 [DBG] Fetching cached identity id.
2023-07-07 17:02:24.018 +07:00 [DBG] Fetching cached identity id.
2023-07-07 17:02:24.222 +07:00 [DBG] Sending Analytics Batches
2023-07-07 17:02:24.223 +07:00 [DBG] Checking if table AnalyticsTable is empty
2023-07-07 17:02:24.224 +07:00 [DBG] is empty: False
2023-07-07 17:02:24.225 +07:00 [DBG] Analytics event batch successfully created, sending analytics
2023-07-07 17:02:24.228 +07:00 [DBG] Sending analytics batch async
2023-07-07 17:02:24.228 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 17:02:24.229 +07:00 [DBG] Pinpoint endpoint ID does not exist
2023-07-07 17:02:24.229 +07:00 [DBG] Pinpoint endpoint info needs to be updated.
2023-07-07 17:02:24.232 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 17:02:24.233 +07:00 [DBG] Fetching cached identity id.
2023-07-07 17:02:24.234 +07:00 [DBG] Fetching cached identity id.
2023-07-07 17:02:25.685 +07:00 [DBG] Caching identity id.
2023-07-07 17:02:25.687 +07:00 [DBG] Caching identity id.
2023-07-07 17:02:25.696 +07:00 [WRN] Failed to cache identity id: System.IO.IOException: Sharing violation on path /Users/hoan.lac/.config/AWSVPNClient/TemporaryCredentials/ap-northeast-2/identity-id.txt
  at System.IO.FileStream..ctor (System.String path, System.IO.FileMode mode, System.IO.FileAccess access, System.IO.FileShare share, System.Int32 bufferSize, System.Boolean anonymous, System.IO.FileOptions options) [0x001b7] in <2733e4fae79345c3bffa3410b35b2971>:0 
  at System.IO.FileStream..ctor (System.String path, System.IO.FileMode mode, System.IO.FileAccess access, System.IO.FileShare share, System.Int32 bufferSize, System.IO.FileOptions options) [0x00000] in <2733e4fae79345c3bffa3410b35b2971>:0 
  at (wrapper remoting-invoke-with-check) System.IO.FileStream..ctor(string,System.IO.FileMode,System.IO.FileAccess,System.IO.FileShare,int,System.IO.FileOptions)
  at System.IO.StreamWriter..ctor (System.String path, System.Boolean append, System.Text.Encoding encoding, System.Int32 bufferSize) [0x00055] in <2733e4fae79345c3bffa3410b35b2971>:0 
  at System.IO.StreamWriter..ctor (System.String path) [0x00008] in <2733e4fae79345c3bffa3410b35b2971>:0 
  at (wrapper remoting-invoke-with-check) System.IO.StreamWriter..ctor(string)
  at System.IO.File.WriteAllText (System.String path, System.String contents) [0x00026] in <2733e4fae79345c3bffa3410b35b2971>:0 
  at ACVC.Core.Metrics.AwsVpnClientCredentials.CacheIdentityId (System.String identityId) [0x0002b] in <839fd5ab8f4b4389aa33b3f9b2f7dcd1>:0 
2023-07-07 17:02:25.699 +07:00 [INF] Saving metrics attributes to /Users/hoan.lac/.config/AWSVPNClient/MetricsAttributes
2023-07-07 17:02:25.703 +07:00 [DBG] Metrics attributes saved to file: /Users/hoan.lac/.config/AWSVPNClient/MetricsAttributes
2023-07-07 17:02:25.707 +07:00 [DBG] Endpoint ID set: ap-northeast-2:43c8376a-ef88-4fca-86ae-265f1722012f
2023-07-07 17:02:25.711 +07:00 [DBG] OSVersion: Unix 22.5.0.0
2023-07-07 17:02:25.715 +07:00 [DBG] OS: MacOS
2023-07-07 17:02:25.725 +07:00 [DBG] endpoint update request created
2023-07-07 17:02:25.726 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 17:02:25.726 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 17:02:25.726 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 17:02:26.330 +07:00 [DBG] Caching identity id.
2023-07-07 17:02:26.333 +07:00 [DBG] Caching credentials.
2023-07-07 17:02:26.901 +07:00 [DBG] endpoint update completed with response status: Accepted
2023-07-07 17:02:26.902 +07:00 [DBG] OS: MacOS
2023-07-07 17:02:26.903 +07:00 [INF] Saving metrics attributes to /Users/hoan.lac/.config/AWSVPNClient/MetricsAttributes
2023-07-07 17:02:26.903 +07:00 [DBG] Metrics attributes saved to file: /Users/hoan.lac/.config/AWSVPNClient/MetricsAttributes
2023-07-07 17:02:26.903 +07:00 [INF] Saving metrics attributes to /Users/hoan.lac/.config/AWSVPNClient/MetricsAttributes
2023-07-07 17:02:26.903 +07:00 [DBG] Metrics attributes saved to file: /Users/hoan.lac/.config/AWSVPNClient/MetricsAttributes
2023-07-07 17:02:26.904 +07:00 [DBG] Endpoint ID: ap-northeast-2:43c8376a-ef88-4fca-86ae-265f1722012f
2023-07-07 17:02:26.904 +07:00 [DBG] Pinpoint endpoint id: ap-northeast-2:43c8376a-ef88-4fca-86ae-265f1722012f
2023-07-07 17:02:26.909 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 17:02:26.915 +07:00 [DBG] OS: MacOS
2023-07-07 17:02:26.921 +07:00 [DBG] OS: MacOS
2023-07-07 17:02:26.921 +07:00 [DBG] OS: MacOS
2023-07-07 17:02:26.921 +07:00 [DBG] OS: MacOS
2023-07-07 17:02:26.921 +07:00 [DBG] OS: MacOS
2023-07-07 17:02:26.921 +07:00 [DBG] OS: MacOS
2023-07-07 17:02:26.922 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 17:02:27.229 +07:00 [DBG] CloudWatch response received
2023-07-07 17:02:27.229 +07:00 [DBG] CloudWatch response status code: OK
2023-07-07 17:02:27.229 +07:00 [DBG] successfully put metrics to cloudwatch
2023-07-07 17:02:27.230 +07:00 [DBG] Deleting successfully sent batch of metric events
2023-07-07 17:02:27.231 +07:00 [DBG] 7/7/2023 5:02:27 PM Accepted
2023-07-07 17:02:27.231 +07:00 [DBG] successfully put analytics to pinpoint
2023-07-07 17:02:27.233 +07:00 [DBG] Events batch was accepted. Checking individual events for accepted status.
2023-07-07 17:02:27.237 +07:00 [DBG] Checking if table MetricsTable is empty
2023-07-07 17:02:27.238 +07:00 [DBG] is empty: True
2023-07-07 17:02:27.238 +07:00 [DBG] Finished sending batches of metrics to cloudwatch.
2023-07-07 17:02:27.239 +07:00 [DBG] Checking if table AnalyticsTable is empty
2023-07-07 17:02:27.239 +07:00 [DBG] is empty: True
2023-07-07 17:02:27.240 +07:00 [DBG] Finished sending batches of analytics to pinpoint.
2023-07-07 17:24:23.456 +07:00 [DBG] System will sleep. Connection state: Disconnected
2023-07-07 19:50:03.190 +07:00 [DBG] System did wake. Connection state: Disconnected
2023-07-07 20:15:44.431 +07:00 [DBG] Sending Metrics batches
2023-07-07 20:15:44.522 +07:00 [DBG] Checking if table MetricsTable is empty
2023-07-07 20:15:44.533 +07:00 [DBG] is empty: True
2023-07-07 20:15:44.534 +07:00 [DBG] Finished sending batches of metrics to cloudwatch.
2023-07-07 20:15:44.535 +07:00 [DBG] Sending Analytics Batches
2023-07-07 20:15:44.542 +07:00 [DBG] Checking if table AnalyticsTable is empty
2023-07-07 20:15:44.543 +07:00 [DBG] is empty: True
2023-07-07 20:15:44.543 +07:00 [DBG] Finished sending batches of analytics to pinpoint.
2023-07-07 21:15:44.555 +07:00 [DBG] Sending Metrics batches
2023-07-07 21:15:44.672 +07:00 [DBG] Checking if table MetricsTable is empty
2023-07-07 21:15:44.674 +07:00 [DBG] is empty: True
2023-07-07 21:15:44.674 +07:00 [DBG] Finished sending batches of metrics to cloudwatch.
2023-07-07 21:15:44.674 +07:00 [DBG] Sending Analytics Batches
2023-07-07 21:15:44.681 +07:00 [DBG] Checking if table AnalyticsTable is empty
2023-07-07 21:15:44.686 +07:00 [DBG] is empty: True
2023-07-07 21:15:44.686 +07:00 [DBG] Finished sending batches of analytics to pinpoint.
2023-07-07 21:55:09.989 +07:00 [DBG] Clean up connections. Connection state: Connecting
2023-07-07 21:55:10.075 +07:00 [INF] Validating schema for OpenVPN config: /Users/hoan.lac/.config/AWSVPNClient/OpenVpnConfigs/AWS
2023-07-07 21:55:10.132 +07:00 [DBG] Inserted event CONNECTION_PROFILE_TYPE 1 to AnalyticsTable
2023-07-07 21:55:11.083 +07:00 [DBG] Caught exception when getting connection status. Exception information: System.TimeoutException: The message did not respond within the expected timeframe or was cancelled
  at ACVC.Core.OpenVpn.OvpnConnectionManager.SendMessage (System.String message, System.Int32 timeout, System.Threading.CancellationToken cancellationToken) [0x001ca] in <839fd5ab8f4b4389aa33b3f9b2f7dcd1>:0 
  at ACVC.Core.OpenVpn.OvpnConnectionManager.GetConnectionStatus () [0x0007c] in <839fd5ab8f4b4389aa33b3f9b2f7dcd1>:0 
  at ACVC.Core.Metrics.MetricsClient.RecordBytesMetricsAndAnalytics (ACVC.Core.IConnectionManager connectionManager) [0x00077] in <839fd5ab8f4b4389aa33b3f9b2f7dcd1>:0 
2023-07-07 21:55:11.087 +07:00 [DBG] Stopping DNS monitoring thread
2023-07-07 21:55:11.088 +07:00 [DBG] Releasing DNS monitoring lock
2023-07-07 21:55:11.099 +07:00 [DBG] Inserted event UI_APP_VPN_CONNECT_GENERAL_ERROR 0 to MetricsTable
2023-07-07 21:55:11.103 +07:00 [INF] Terminating connection
2023-07-07 21:55:11.104 +07:00 [WRN] Acs did not stop correctly!
2023-07-07 21:55:11.105 +07:00 [DBG] 🏞 Ending connection details reporting.
2023-07-07 21:55:11.106 +07:00 [WRN] We are calling GracefulKill in a method that is not supposed to change Connection state.
2023-07-07 21:55:11.108 +07:00 [DBG] GracefulKill
2023-07-07 21:55:11.115 +07:00 [DBG] Cancelling socket listen token
2023-07-07 21:55:11.115 +07:00 [DBG] Dispose socket
2023-07-07 21:55:11.116 +07:00 [DBG] Signal process kill with helper tool.
2023-07-07 21:55:11.117 +07:00 [DBG] Starting process
2023-07-07 21:55:11.521 +07:00 [DBG] Start to read process output
2023-07-07 21:55:11.637 +07:00 [DBG] End reading process output
2023-07-07 21:55:11.726 +07:00 [DBG] Helper app --kill output: Kill success.
2023-07-07 21:55:11.726 +07:00 [DBG] Release process manager start lock
2023-07-07 21:55:11.727 +07:00 [DBG] Release process manager stop lock
2023-07-07 21:55:11.727 +07:00 [DBG] Disconnected
2023-07-07 21:55:11.728 +07:00 [DBG] Stopping DNS monitoring thread
2023-07-07 21:55:11.728 +07:00 [DBG] Releasing DNS monitoring lock
2023-07-07 21:55:11.731 +07:00 [DBG] Inserted event UI_APP_VPN_CONNECT_GENERAL_ERROR 0 to MetricsTable
2023-07-07 21:55:13.514 +07:00 [INF] Saving profile store to /Users/hoan.lac/.config/AWSVPNClient/ConnectionProfiles
2023-07-07 21:55:13.521 +07:00 [DBG] Inserted event CLICK_APP_CONNECT 1 to AnalyticsTable
2023-07-07 21:55:13.522 +07:00 [INF] Connecting /Users/hoan.lac/.config/AWSVPNClient/OpenVpnConfigs/AWS 
2023-07-07 21:55:13.524 +07:00 [DBG] validationString: /Users/hoan.lac/.config/AWSVPNClient/OpenVpnConfigs/AWS
1688741723
2023-07-07 21:55:13.527 +07:00 [DBG] Inserted event UI_APP_VPN_CONNECT_ATTEMPT 1 to AnalyticsTable
2023-07-07 21:55:13.527 +07:00 [DBG] Shutting down metrics agent
2023-07-07 21:55:13.529 +07:00 [DBG] Metrics agent shut down
2023-07-07 21:55:13.530 +07:00 [DBG] Inserted event UI_APP_VPN_CONNECT_GENERAL_ERROR 0 to MetricsTable
2023-07-07 21:55:13.749 +07:00 [INF] Starting OpenVpn process
2023-07-07 21:55:13.749 +07:00 [DBG] Starting process
2023-07-07 21:55:13.806 +07:00 [DBG] Start to read process output
2023-07-07 21:55:13.919 +07:00 [DBG] End reading process output
2023-07-07 21:55:14.009 +07:00 [DBG] Helper app --init output: Kill success.
2023-07-07 21:55:14.009 +07:00 [DBG] Connecting using command /Applications/AWS VPN Client/AWS VPN Client.app/Contents/Resources/AWS VPN Client/Contents/MacOS/ACVCHelperTool --start
2023-07-07 21:55:14.009 +07:00 [DBG] Starting process
2023-07-07 21:55:14.033 +07:00 [DBG] Start to read process output
2023-07-07 21:55:20.806 +07:00 [DBG] End reading process output
2023-07-07 21:55:20.843 +07:00 [DBG] Helper app --start output: port in use
2023-07-07 21:55:20.846 +07:00 [DBG] DeDupeProcessDiedSignals: The VPN process failed to start. The port is already in use by another process.
2023-07-07 21:55:20.846 +07:00 [WRN] Acs did not stop correctly!
2023-07-07 21:55:20.846 +07:00 [ERR] Process died signal sent
ACVC.Core.OpenVpn.OvpnPortTakenException: The VPN process failed to start. The port is already in use by another process.
  at ACVC.Core.OpenVpn.OvpnOsxProcessManager.Start (System.String openVpnConfigPath, System.String managementPortPasswordFile, System.Int32 timeoutMilliseconds) [0x002fb] in <839fd5ab8f4b4389aa33b3f9b2f7dcd1>:0 
  at ACVC.Core.OpenVpn.OvpnConnectionManager.Connect (ACVC.Core.Metadata.OvpnConnectionProfile configProfile, ACVC.Core.GetCredentialsCallback getCredentialsCallback, System.Int32 timeout) [0x0020f] in <839fd5ab8f4b4389aa33b3f9b2f7dcd1>:0 
2023-07-07 21:55:20.848 +07:00 [DBG] Stopping DNS monitoring thread
2023-07-07 21:55:20.848 +07:00 [DBG] Releasing DNS monitoring lock
2023-07-07 21:55:20.849 +07:00 [DBG] Metric agent started
2023-07-07 21:55:20.849 +07:00 [DBG] Sending Metrics batches
2023-07-07 21:55:20.850 +07:00 [DBG] Received exception for connection state Disconnected. Show error message to user
2023-07-07 21:55:20.850 +07:00 [ERR] Exception recieved by connection view controller
ACVC.Core.OpenVpn.OvpnPortTakenException: The VPN process failed to start. The port is already in use by another process.
  at ACVC.Core.OpenVpn.OvpnOsxProcessManager.Start (System.String openVpnConfigPath, System.String managementPortPasswordFile, System.Int32 timeoutMilliseconds) [0x002fb] in <839fd5ab8f4b4389aa33b3f9b2f7dcd1>:0 
  at ACVC.Core.OpenVpn.OvpnConnectionManager.Connect (ACVC.Core.Metadata.OvpnConnectionProfile configProfile, ACVC.Core.GetCredentialsCallback getCredentialsCallback, System.Int32 timeout) [0x0020f] in <839fd5ab8f4b4389aa33b3f9b2f7dcd1>:0 
2023-07-07 21:55:20.853 +07:00 [DBG] Checking if table MetricsTable is empty
2023-07-07 21:55:20.854 +07:00 [DBG] is empty: False
2023-07-07 21:55:20.857 +07:00 [DBG] Metrics event batch successfully created, sending metrics
2023-07-07 21:55:20.858 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 21:55:20.858 +07:00 [DBG] Sending metrics batch async
2023-07-07 21:55:20.858 +07:00 [DBG] OS: MacOS
2023-07-07 21:55:20.858 +07:00 [DBG] OS: MacOS
2023-07-07 21:55:20.858 +07:00 [DBG] OS: MacOS
2023-07-07 21:55:20.859 +07:00 [DBG] Metrics data request created
2023-07-07 21:55:20.879 +07:00 [DBG] Sending Analytics Batches
2023-07-07 21:55:20.881 +07:00 [DBG] Checking if table AnalyticsTable is empty
2023-07-07 21:55:20.881 +07:00 [DBG] is empty: False
2023-07-07 21:55:20.882 +07:00 [DBG] Analytics event batch successfully created, sending analytics
2023-07-07 21:55:20.883 +07:00 [DBG] Sending analytics batch async
2023-07-07 21:55:20.883 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 21:55:20.883 +07:00 [DBG] Pinpoint endpoint ID already exists
2023-07-07 21:55:20.884 +07:00 [DBG] OSVersion: Unix 22.5.0.0
2023-07-07 21:55:20.884 +07:00 [DBG] OS: MacOS
2023-07-07 21:55:20.886 +07:00 [DBG] Endpoint ID: ap-northeast-2:43c8376a-ef88-4fca-86ae-265f1722012f
2023-07-07 21:55:20.886 +07:00 [DBG] Pinpoint endpoint id: ap-northeast-2:43c8376a-ef88-4fca-86ae-265f1722012f
2023-07-07 21:55:20.887 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 21:55:20.888 +07:00 [DBG] OS: MacOS
2023-07-07 21:55:20.889 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 21:55:20.898 +07:00 [DBG] Inserted event UI_APP_VPN_CONNECT_GENERAL_ERROR 1 to MetricsTable
2023-07-07 21:55:20.900 +07:00 [DBG] Inserted event UI_APP_VPN_CONNECT_GENERAL_ERROR 1 to AnalyticsTable
2023-07-07 21:55:21.838 +07:00 [DBG] Caching credentials.
2023-07-07 21:55:22.481 +07:00 [DBG] 7/7/2023 9:55:22 PM Accepted
2023-07-07 21:55:22.481 +07:00 [DBG] successfully put analytics to pinpoint
2023-07-07 21:55:22.482 +07:00 [DBG] Events batch was accepted. Checking individual events for accepted status.
2023-07-07 21:55:22.485 +07:00 [DBG] Checking if table AnalyticsTable is empty
2023-07-07 21:55:22.485 +07:00 [DBG] is empty: False
2023-07-07 21:55:22.487 +07:00 [DBG] Analytics event batch successfully created, sending analytics
2023-07-07 21:55:22.487 +07:00 [DBG] Sending analytics batch async
2023-07-07 21:55:22.487 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 21:55:22.487 +07:00 [DBG] Pinpoint endpoint ID already exists
2023-07-07 21:55:22.487 +07:00 [DBG] OSVersion: Unix 22.5.0.0
2023-07-07 21:55:22.487 +07:00 [DBG] OS: MacOS
2023-07-07 21:55:22.487 +07:00 [DBG] Endpoint ID: ap-northeast-2:43c8376a-ef88-4fca-86ae-265f1722012f
2023-07-07 21:55:22.487 +07:00 [DBG] Pinpoint endpoint id: ap-northeast-2:43c8376a-ef88-4fca-86ae-265f1722012f
2023-07-07 21:55:22.487 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 21:55:22.487 +07:00 [DBG] OS: MacOS
2023-07-07 21:55:22.487 +07:00 [DBG] OS: MacOS
2023-07-07 21:55:22.487 +07:00 [DBG] OS: MacOS
2023-07-07 21:55:22.487 +07:00 [DBG] OS: MacOS
2023-07-07 21:55:22.488 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 21:55:22.692 +07:00 [DBG] CloudWatch response received
2023-07-07 21:55:22.692 +07:00 [DBG] CloudWatch response status code: OK
2023-07-07 21:55:22.692 +07:00 [DBG] successfully put metrics to cloudwatch
2023-07-07 21:55:22.692 +07:00 [DBG] Deleting successfully sent batch of metric events
2023-07-07 21:55:22.694 +07:00 [DBG] Checking if table MetricsTable is empty
2023-07-07 21:55:22.694 +07:00 [DBG] is empty: False
2023-07-07 21:55:22.695 +07:00 [DBG] Metrics event batch successfully created, sending metrics
2023-07-07 21:55:22.695 +07:00 [DBG] metrics region already exists in app: ap-northeast-2
2023-07-07 21:55:22.695 +07:00 [DBG] Sending metrics batch async
2023-07-07 21:55:22.695 +07:00 [DBG] OS: MacOS
2023-07-07 21:55:22.695 +07:00 [DBG] Metrics data request created
2023-07-07 21:55:22.855 +07:00 [DBG] 7/7/2023 9:55:22 PM Accepted
2023-07-07 21:55:22.855 +07:00 [DBG] successfully put analytics to pinpoint
2023-07-07 21:55:22.855 +07:00 [DBG] Events batch was accepted. Checking individual events for accepted status.
2023-07-07 21:55:22.860 +07:00 [DBG] Checking if table AnalyticsTable is empty
2023-07-07 21:55:22.861 +07:00 [DBG] is empty: True
2023-07-07 21:55:22.861 +07:00 [DBG] Finished sending batches of analytics to pinpoint.
2023-07-07 21:55:23.233 +07:00 [DBG] CloudWatch response received
2023-07-07 21:55:23.234 +07:00 [DBG] CloudWatch response status code: OK
2023-07-07 21:55:23.234 +07:00 [DBG] successfully put metrics to cloudwatch
2023-07-07 21:55:23.234 +07:00 [DBG] Deleting successfully sent batch of metric events
2023-07-07 21:55:23.238 +07:00 [DBG] Checking if table MetricsTable is empty
2023-07-07 21:55:23.238 +07:00 [DBG] is empty: True
2023-07-07 21:55:23.238 +07:00 [DBG] Finished sending batches of metrics to cloudwatch.
2023-07-07 21:55:24.011 +07:00 [DBG] Clean up connections. Connection state: Connecting
2023-07-07 21:55:24.012 +07:00 [INF] Validating schema for OpenVPN config: /Users/hoan.lac/.config/AWSVPNClient/OpenVpnConfigs/AWS
2023-07-07 21:55:24.023 +07:00 [DBG] Inserted event CONNECTION_PROFILE_TYPE 1 to AnalyticsTable
2023-07-07 21:55:25.018 +07:00 [DBG] Caught exception when getting connection status. Exception information: System.TimeoutException: The message did not respond within the expected timeframe or was cancelled
  at ACVC.Core.OpenVpn.OvpnConnectionManager.SendMessage (System.String message, System.Int32 timeout, System.Threading.CancellationToken cancellationToken) [0x001ca] in <839fd5ab8f4b4389aa33b3f9b2f7dcd1>:0 
  at ACVC.Core.OpenVpn.OvpnConnectionManager.GetConnectionStatus () [0x0007c] in <839fd5ab8f4b4389aa33b3f9b2f7dcd1>:0 
  at ACVC.Core.Metrics.MetricsClient.RecordBytesMetricsAndAnalytics (ACVC.Core.IConnectionManager connectionManager) [0x00077] in <839fd5ab8f4b4389aa33b3f9b2f7dcd1>:0 
2023-07-07 21:55:25.019 +07:00 [DBG] Stopping DNS monitoring thread
2023-07-07 21:55:25.019 +07:00 [DBG] Releasing DNS monitoring lock
2023-07-07 21:55:25.025 +07:00 [DBG] Inserted event UI_APP_VPN_CONNECT_GENERAL_ERROR 0 to MetricsTable
2023-07-07 21:55:25.026 +07:00 [INF] Terminating connection
2023-07-07 21:55:25.026 +07:00 [WRN] Acs did not stop correctly!
2023-07-07 21:55:25.026 +07:00 [DBG] 🏞 Ending connection details reporting.
2023-07-07 21:55:25.026 +07:00 [WRN] We are calling GracefulKill in a method that is not supposed to change Connection state.
2023-07-07 21:55:25.027 +07:00 [DBG] GracefulKill
2023-07-07 21:55:25.027 +07:00 [DBG] Cancelling socket listen token
2023-07-07 21:55:25.027 +07:00 [DBG] Dispose socket
2023-07-07 21:55:25.027 +07:00 [DBG] Signal process kill with helper tool.
2023-07-07 21:55:25.027 +07:00 [DBG] Starting process
2023-07-07 21:55:25.142 +07:00 [DBG] Start to read process output
2023-07-07 21:55:25.187 +07:00 [DBG] End reading process output
2023-07-07 21:55:25.243 +07:00 [DBG] Helper app --kill output: Kill success.
2023-07-07 21:55:25.243 +07:00 [DBG] Release process manager start lock
2023-07-07 21:55:25.243 +07:00 [DBG] Release process manager stop lock
2023-07-07 21:55:25.244 +07:00 [DBG] Disconnected
2023-07-07 21:55:25.244 +07:00 [DBG] Stopping DNS monitoring thread
2023-07-07 21:55:25.244 +07:00 [DBG] Releasing DNS monitoring lock
2023-07-07 21:55:25.246 +07:00 [DBG] Inserted event UI_APP_VPN_CONNECT_GENERAL_ERROR 0 to MetricsTable
2023-07-07 22:05:09.989 +07:00 [DBG] System will sleep. Connection state: Disconnected
